<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Stream Player</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/shaka-player.ui.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.7.11/controls.min.css" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: #000;
    overflow: hidden;
  }

  .shaka-video-container {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
  }

  .shaka-spinner-container,
.shaka-spinner,
.shaka-spinner-svg {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}


  video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: #000;
  }

  /* LIVE Banner */
  .live-banner {
    position: absolute;
    top: 20px;
    right: 80px;
    z-index: 10;
    background: red;
    color: white;
    padding: 8px 16px;
    font-weight: bold;
    font-size: 16px;
    border-radius: 4px;
    text-transform: uppercase;
    animation: pulse 1s infinite;
  }

  @keyframes pulse {
    0%,100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.1); opacity: 0.8; }
  }

  /* Logo */
  .logo {
    position: absolute;
    top: 20px;
    left: 20px;
    z-index: 10;
    height: 60px;
  }

   /* Bottom-center overlay text (slightly higher) */
  #overlay-text {
    position: absolute;
    bottom: 60px; /* moved higher */
    left: 50%;
    transform: translateX(-50%);
    color: #fff;
    font-size: 22px;
    font-weight: 700;
    text-shadow: 2px 2px 6px rgba(0,0,0,0.8);
    z-index: 10;
    pointer-events: none;
    font-family: 'Roboto', sans-serif;
  } /* Bottom-center overlay text */
  #overlay-text {
    position: absolute;
    bottom: 5%;
    left: 50%;
    transform: translateX(-50%);
    color: rgba(255, 255, 255, 0.7);
    font-size: 1.2vw;
    min-font-size: 12px;
    max-font-size: 20px;
    font-weight: 600;
    text-shadow: 1px 1px 4px rgba(0,0,0,0.8);
    z-index: 10;
    pointer-events: none;
    font-family: 'Roboto', sans-serif;
  }

  @media (max-width: 600px) {
    #overlay-text {
      font-size: 14px;
      bottom: 8%;
    }
  }

  #click-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.45);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 20;
  cursor: pointer;
  transition: opacity 0.3s ease;
}

#click-overlay.hidden {
  opacity: 0;
  pointer-events: none;
}

.play-btn {
  width: 90px;
  height: 90px;
  background: rgba(255, 255, 255, 0.9);
  color: #000;
  font-size: 42px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}

.play-text {
  margin-top: 14px;
  color: #fff;
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0.5px;
  opacity: 0.85;
}

  
</style>
</head>

<body>

<!-- Logo -->
<img  src="" alt="Logo">

<!-- LIVE Banner -->
<div class=""></div>

<!-- Shaka Player Video Container -->
<div class="shaka-video-container" data-shaka-player>
  <video playsinline preload="metadata" poster="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEitCOH8hfTOSrv-A6H69EGXH9nONNBHPXCKB4uf6STJCZ2XUaYNDQJtlW4-UEqZCA4KQxXUhpTtWqcNL2z9anbJt1wAYpZGYbffbg3Aogsrku2D5XAxDBhonssZ9DWk7Kgh_W9f_60L7GSkDgc9c2t8mwV0UKetNA7CLufGsc1eIFKwm-X_Rpkb0Ip-gPKK/s16000/YTVS%20ALT%20logo.jpg"></video>
</div>
<div id="overlay-text">YonoTVs.com</div>

  
  <div id="click-overlay">
  <div class="play-btn">▶</div>
  <div class="play-text">Click to Play</div>
</div>


  <script>
document.addEventListener('DOMContentLoaded', async () => {
  shaka.polyfill.installAll();

  if (!shaka.Player.isBrowserSupported()) {
    alert('Browser not supported');
    return;
  }

  const video = document.querySelector('video');
  let player = new shaka.Player(video);

  const container = document.querySelector('.shaka-video-container');
  const ui = new shaka.ui.Overlay(player, container, video);

  ui.configure({
    controlPanelElements: [
      'play_pause',
      'time_and_duration',
      'mute',
      'volume',
      'spacer',
      'quality',
      'fullscreen'
    ]
  });

  const streams = {
    "1": {
      url: "https://a204aivottepl-a.akamaihd.net/sin-nitro/live/clients/dash/enc/fdb3pubmek/out/v1/aefca6420f944a9482e117f315de535f/cenc.mpd",
      keyId: "7e9239c1982d984a002df3ed049d0756",
      key: "1b8a17598129a3618535c8fb05f103fe"
    },
    "4": {
      url: "https://a201aivottlinear-a.akamaihd.net/OTTB/lhr-nitro/clients/dash/enc/f60kqesunw/out/v1/a435ed7a00f947deb4369b46d8f2fb70/cenc.mpd",
      keyId: "1779c27b9d077a3ba0c9cc1bb9a94b9f",
      key: "cc5cf3b7928fb9e0a1ee6a8b566f0a8e"
    },
    "bplhd": {
      url: "https://stream.snexus.co/live/SN_WILDLIFE/main_stream.m3u8"
    }
  };

  // Get ?id= parameter from the URL (e.g. ?id=2)
  const params = new URLSearchParams(window.location.search);
  const id = params.get('id') || "1";

  const stream = streams[id];
  if (!stream) {
    alert("Invalid stream ID");
    return;
  }

  // Detect stream type hls or DRM
  const isDash = stream.url.endsWith('.mpd');
  const isHls = stream.url.endsWith('.m3u8');

  try {
    if (isDash) {
      if (stream.keyId && stream.key) {
        player.configure({
          drm: { clearKeys: { [stream.keyId]: stream.key } },
          streaming: { lowLatencyMode: true }
        });
      }
      await player.load(stream.url);
      console.log("✅ DASH loaded:", id);
    }

    if (isHls) {
      await player.destroy();   // IMPORTANT
      player = null;

      if (Hls.isSupported()) {
        const hls = new Hls({
          lowLatencyMode: true,
          enableWorker: true
        });
        hls.loadSource(stream.url);
        hls.attachMedia(video);
        console.log("✅ HLS via hls.js:", id);
      } else {
        video.src = stream.url; // Safari
        console.log("✅ HLS native:", id);
      }
    }
  } catch (e) {
    console.error("Playback failed:", e);
  }

/* Click to play FROM HERE */
const overlay = document.getElementById('click-overlay');

overlay.addEventListener('click', async () => {
  try {
    await video.play(); // user gesture → sound allowed
    overlay.classList.add('hidden');
  } catch (err) {
    console.error("User play failed:", err);
  }
});

video.addEventListener('play', () => {
  overlay.classList.add('hidden');
});

video.addEventListener('pause', () => {
  overlay.classList.remove('hidden');
});

  
});
</script>


</body>
</html>
